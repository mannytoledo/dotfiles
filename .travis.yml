---
language: generic

git:
    submodules: false

# Use sed to replace the SSH URL with the public URL, then initialize submodules
before_install:
    - sed -i 's/git@github.com:/https:\/\/github.com\//' .gitmodules
    - git submodule update --init --recursive

services:
  - docker

matrix:
  include:

    - os: linux
      dist: trusty

    - os: osx
      osx_image: xcode8.1

notifications:
  email:
    on_failure: always
    on_success: always

script:
  - make install
  - make test
